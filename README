/*********************
 * IRC DOCUMENTATION *
 *********************/

(A prendre avec des pincettes, parce qu'il ya plein de choses qu'on ne doit pas faire (on refait ps une minishell haha))

https://datatracker.ietf.org/doc/html/rfc2811#section-2.1

						■ Channel Management ■

□ Namespace :
	Nom/titre d'un channel est une string conmmencant par '&', '#', '+' or "!' (prefixe). 
	Longueur maximum : 50 caracteres. Ne doit pas contenir de ' ', ',' ou CTRL+G.
□ Privileged channel members : 
	Peuvent :  
	INVITE	- peuvent inviter un user en mode invitation-seulement (mode +i)
	KICK	- bon, c'est assez clair.
	MODE	- permet de changer le mode d'un channel. 
	PRIVMSG	- envoie d'un message dans un channel (mode +n, +m, +v)
	TOPIC	- change le topic/sujet d'un channel (mode +t)
□ Channel Operators :
	Les operateurs d'un channel (sauf apres l'abolition de la propriete privee).
	Identifiables par le '@' devant leur nickname.
	Si un channel commence par le prefixe '+', le chan ne supporte pas les modes
	et ne peut pas avoir d'operateurs.
	Peut connecter et deconnecter des serveurs, virer de force (BOUHHHH) un user. 
□ Channel creator : 
	"owner" du channel.
	Un user qui cree un chan avec prefixe '!' est identifie comme le.a createur.trice 
	du channel. Cet user a aussi les droits operateurs. 
	Il peut appliquer certains modes sur un chan contrairement aux operateurs. 
	Bref createur > operateur.
□ Standard channel : 
	Channel cree quand le premier user le rejoint et cesse d'exister 
	quand le dernier user le quitte (est-ce que c'est comme ca pour une conv messenger ?)
	La personne qui cree un channel devient automatiquement un channel operateur
	quand le channel commence par le prefixe '+'
□ Safe channel : 
	Un channel safe n'est pas automatiquement cree quand un user le rejoint. 
	Pour le creer il faut faire une requete en tapant la commande JOIN.
	Le prefixe d'un channel safe commence par '!'
	Le process de creation est totalement controle. Le user choisi un parti du nom ("short name").
	Puis automatiquement un identifiant (5 caracteres) est donne. 
	Le nom final est un mix du short name et de cet identifiant. 
	C'est donc unique et securise. 
	La personne qui cree le channel devient son createur. Et elle est la seule a l'etre,
	meme si plus personne n'est dessus et qu'un utilisateur rejoint le channel.
□ Channel modes : (tout n'est pas a faire ptdr heureusement)
	O - donne le statut de channel createur (can be used in "safe channels" and SHALL NOT be manipulated by users);
	o - donne les privileges d'un channel operateur;
	v - donne le privilege de la voix, avec ce privilege les personnes peuvent parler sur un chan modere;
	a - anonyme channel, anonymous!anonymous@anonymous;
	i - mode invitation-seulement, possibilite de rejoindre le channel uniquement sur invitation;
	m - channel modere, seul les personnes avec le flag 'm' ou moderateur/operateur peuvent parler;
	n - ce flag affecte seulement les users, seuls les membres du channel peuvent parler;
	q - serveur uniquement, les activites du serveur (membre qui rejoint, changement de nicname...) 
	ne sont pas envoyes sur le serveur;
	p - rend un channel prive, impossibilite de faire un WHOIS sans etre dans le channel;
	s - pareil que le mode+p mais en plus restrictif, pas de TOPIC, LIST, NAME cmd;
	r - seul le createur peut set ce mode (franchement j'ai pas compris et je pense qu'il n'y a pas besoin de le faire);
	t - restreint les droits des operateurs (je crois a verifier ???);
	k - set/remove the channel key (password);
	l - set/remove the user limit to channel;
	b - set/remove ban mask to keep users out;
	e - set/remove an exception mask to override a ban mask;
	I - set/remove an invitation mask to automatically override the invite-only flag;
	Unless mentioned otherwise below, all these modes can be manipulated
	by "channel operators" by using the MODE command defined in "IRC client Protocol"
□ Channel identifier : 
	fonction de temps. Temps depuis epoque.
Interdiction de faire safe serveurs avec le meme short-name.

[ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ]

https://datatracker.ietf.org/doc/html/rfc2812
(On dirait moi qui me repete dans une dissetation de philo)

□ Users : 
	possede un nickname unique compose de maximum 9 caracteres (j'imagine qu'il y a d'autres bails, je reviendrai plus tard ici).
Le prefix, la commande et les parametres sont separes par un espace (0x20).

(Partie trop chiante)

message	=  [ ":" prefix SPACE ] command [ params ] crlf
prefix	=  servername / ( nickname [ [ "!" user ] "@" host ] )
command	=  1*letter / 3digit
params	=  *14( SPACE middle ) [ SPACE ":" trailing ]
		=/ 14( SPACE middle ) [ SPACE [ ":" ] trailing ]

nospcrlfcl	= 	%x01-09 / %x0B-0C / %x0E-1F / %x21-39 / %x3B-FF
				; any octet except NUL, CR, LF, " " and ":"
middle		=  nospcrlfcl *( ":" / nospcrlfcl )
trailing	=  *( ":" / " " / nospcrlfcl )

SPACE		=	%x20	; space character
crlf		=	%x0D %x0A   ; "carriage return" "linefeed"

(J'ai rien compris je crois que mon cerveau peut plus comprendre l'anglais la)
□ Connection : 
					1. Pass message
    2. Nick message                 2. Service message
    3. User message
	Upon success, the client will receive an RPL_WELCOME (for users) or
	RPL_YOURESERVICE (for services) message indicating that the
	connection is now registered and known the to the entire IRC network.
	The reply message MUST contain the full client identifier upon which
	it was registered.

						■ COMMAND ■
□ Password message : 
	Command : Pass
	Param : <password>
	Cette commande permet de set une connection avec mdp.
	Numeric Replies:
		ERR_NEEDMOREPARAMS              ERR_ALREADYREGISTRED
	Example:
		PASS secretpasswordhere
□ Nick message : 
	Comamnd : NICK
	Param : <nickname>
	Permet d'attribuer ou changer de nickname.
	Numeric Replies:
		ERR_NONICKNAMEGIVEN				ERR_ERRONEUSNICKNAME
		ERR_NICKNAMEINUSE				ERR_NICKCOLLISION
		ERR_UNAVAILRESOURCE				ERR_RESTRICTED
	Examples:
		NICK Wiz		; Introducing new nick "Wiz" if session is
						still unregistered, or user changing his
						nickname to "Wiz"
		:WiZ!jto@tolsun.oulu.fi NICK Kilroy
						; Server telling that WiZ changed his
						nickname to Kilroy.
□ User message : 
	Command : USER
	Param : <user> <mode> <unused> <realname>
	La commande USER est utilise lors de la connection pour specifier le username, hostname et realname d'un nouveau user.
	Le param <mode> doit etre un numerique et, bitmask. Si jamais le deuxieme bit est set, le mode+w est active (user receives wallops - j'ai pas compris),
	si jamais le bit 3 est setm le mode+i (marks a users as invisible) est active.
	Le <realname> peut contenir des espaces.
	Numeric Replies:
		ERR_NEEDMOREPARAMS              ERR_ALREADYREGISTRED
	Example:
		USER guest 0 * :Ronnie Reagan   ; User registering themselves with a
								username of "guest" and real name
								"Ronnie Reagan".
		USER guest 8 * :Ronnie Reagan   ; User registering themselves with a
								username of "guest" and real name
								"Ronnie Reagan", and asking to be set
								invisible.
□ User mode 
	Command: MODE
	Parameters: <nickname>
		*( ( "+" / "-" ) *( "i" / "w" / "o" / "O" / "r" ) )
	a - user is flagged as away;
	i - marks a users as invisible;
	w - user receives wallops;
	r - restricted user connection;
	o - operator flag;
	O - local operator flag;
	s - marks a user for receipt of server notices.
	Numeric Replies:
		ERR_NEEDMOREPARAMS				ERR_USERSDONTMATCH
		ERR_UMODEUNKNOWNFLAG			RPL_UMODEIS
	Examples:
		MODE WiZ -wallops		; Command by WiZ to turn off
								reception of WALLOPS messages.
		MODE Angel +i			; Command from Angel to make herself
								invisible.
		MODE WiZ -O				; WiZ 'deopping' (removing operator
								status).

□ Operator message :
	Command: OPER
	Parameters: <name> <password>
	Un user lambda utilise la cmd OPER pour obtenir les privileges des operateurs (abolis apres la revolution).
	La combinaison <name> <password> est obligatoire afin d'obtenir les droits.
	Numeric Replies:
		ERR_NEEDMOREPARAMS				RPL_YOUREOPER
		ERR_NOOPERHOST					ERR_PASSWDMISMATCH
	Example:
		OPER foo bar		; Attempt to register as an operator
							using a username of "foo" and "bar"
							as the password.